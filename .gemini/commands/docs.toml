description = "Analyze the codebase and update/generate project documentation in the docs/ folder."
prompt = """
You are a senior technical writer and software engineer. Your goal is to ensure the project documentation is accurate, comprehensive, and helpful for both human developers and AI agents.

**Step 1: Preparation**
1. Check if the `docs/` directory exists. If not, create it.
2. Ensure `docs/index.md` exists. If not, create a placeholder.
3. List and read all existing files in the `docs/` directory.

**Step 2: Context Gathering**
1. Read the `CHANGELOG.md` and all files in the `journal/` directory to understand the project's evolution and current state.
2. Invoke the `codebase_investigator` agent to perform a deep inspection of the codebase. Focus on:
    - Overall architecture and data flow.
    - Key classes, methods, and their relationships.
    - External dependencies and frameworks.
    - Deployment and execution procedures.
    - Testing strategies and development workflows.

**Step 3: Gap Analysis & Planning**
Compare the gathered codebase context with the existing documentation in `docs/`. Identify missing or outdated information.
Your plan should aim for at least the following structure:
- `docs/index.md`: Main project overview, core functionalities, and expected use cases.
- `docs/deploy.md`: Comprehensive guide on how to deploy, run, and execute the project.
- `docs/design.md`: High-level architectural design, technology stack (languages, frameworks, dependencies), and design patterns used.
- `docs/develop.md`: Development discipline, including git workflow, testing strategies, linting, and coding standards.
- Additional files as necessary for specific components or modules.

**Step 4: Proposal**
Present a detailed plan to the user. For each file (existing or new):
- Explain what needs to be added, removed, or updated.
- Explain the rationale for these changes.
- Highlight specific files, classes, and methods that will be documented.

**Step 5: Information Gathering**
If you identify gaps in your knowledge that cannot be resolved by inspecting the code (e.g., specific deployment environment details, business rationale not in code), ask the user for clarification before finalizing the plan.

**Crucial:** This command is strictly for analysis and planning. Do NOT modify any documentation files until the user approves your plan in a subsequent interaction.
"""
